--// Snow Compact Spawner GUI (ORDER FIXED)
local Spawner = loadstring(game:HttpGet(
    "https://raw.githubusercontent.com/lilbrolilbrohaha/dark/refs/heads/main/sab.lua"
))()

local Players = game:GetService("Players")
local LP = Players.LocalPlayer

-- GUI
local gui = Instance.new("ScreenGui", LP.PlayerGui)
gui.Name = "SnowSpawner"
gui.ResetOnSpawn = false

local main = Instance.new("Frame", gui)
main.Size = UDim2.fromScale(0.28, 0.42)
main.Position = UDim2.fromScale(0.36, 0.28)
main.BackgroundColor3 = Color3.fromRGB(235, 245, 255)
main.BorderSizePixel = 0
main.Active = true
main.Draggable = true
Instance.new("UICorner", main).CornerRadius = UDim.new(0, 14)

-- Layout
local layout = Instance.new("UIListLayout", main)
layout.Padding = UDim.new(0, 8)
layout.HorizontalAlignment = Enum.HorizontalAlignment.Center
layout.VerticalAlignment = Enum.VerticalAlignment.Top

-- Title (TOP)
local title = Instance.new("TextLabel", main)
title.LayoutOrder = 1
title.Size = UDim2.fromScale(1, 0.2)
title.BackgroundTransparency = 1
title.Text = "❄️ Snow Brainrot Spawner"
title.Font = Enum.Font.GothamBold
title.TextSize = 18
title.TextColor3 = Color3.fromRGB(80, 120, 160)

-- TextBox creator
local function box(ph, order)
    local t = Instance.new("TextBox", main)
    t.LayoutOrder = order
    t.Size = UDim2.fromScale(0.9, 0.12)
    t.PlaceholderText = ph
    t.ClearTextOnFocus = false
    t.Font = Enum.Font.Gotham
    t.TextSize = 14
    t.TextColor3 = Color3.fromRGB(40, 40, 40)
    t.BackgroundColor3 = Color3.fromRGB(250, 250, 255)
    t.BorderSizePixel = 0
    Instance.new("UICorner", t).CornerRadius = UDim.new(0, 8)
    return t
end

-- Inputs (ORDERED)
local brainrotBox = box("Brainrot Name", 2)
local mutationBox = box("Mutation (optional)", 3)
local traitsBox   = box("Traits (comma separated)", 4)

-- Spawn Button (LAST)
local spawn = Instance.new("TextButton", main)
spawn.LayoutOrder = 5
spawn.Size = UDim2.fromScale(0.9, 0.14)
spawn.Text = "❄️ SPAWN"
spawn.Font = Enum.Font.GothamBold
spawn.TextSize = 15
spawn.TextColor3 = Color3.new(1,1,1)
spawn.BackgroundColor3 = Color3.fromRGB(100,170,220)
spawn.BorderSizePixel = 0
Instance.new("UICorner", spawn).CornerRadius = UDim.new(0, 10)

spawn.MouseButton1Click:Connect(function()
    if brainrotBox.Text == "" then return end

    local mut = mutationBox.Text ~= "" and mutationBox.Text or nil
    local traits = {}

    for t in string.gmatch(traitsBox.Text, "[^,%s]+") do
        table.insert(traits, t)
    end
    if #traits == 0 then traits = nil end

    Spawner.Spawn(brainrotBox.Text, mut, traits)
end)

-- Snow particles
local att = Instance.new("Attachment", main)
local snow = Instance.new("ParticleEmitter", att)
snow.Texture = "rbxassetid://241837157"
snow.Rate = 8
snow.Lifetime = NumberRange.new(6)
snow.Speed = NumberRange.new(1, 2)
snow.Rotation = NumberRange.new(0, 360)

print("❄️ Snow Spawner Loaded (Order Fixed)")
