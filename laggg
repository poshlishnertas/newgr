-- LAGGER SCRIPT (SAFE / LOCAL ONLY)

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")
local UserInputService = game:GetService("UserInputService")

local player = Players.LocalPlayer

local lagEnabled = false
local lagConnection

-- GUI
local gui = Instance.new("ScreenGui")
gui.Name = "LaggerGUI"
gui.ResetOnSpawn = false
gui.Parent = player:WaitForChild("PlayerGui")

local frame = Instance.new("Frame")
frame.Size = UDim2.fromOffset(300, 180)
frame.Position = UDim2.fromScale(0.5, 0.5)
frame.AnchorPoint = Vector2.new(0.5, 0.5)
frame.BackgroundColor3 = Color3.fromRGB(30,30,30)
frame.Parent = gui

Instance.new("UICorner", frame).CornerRadius = UDim.new(0,14)

-- üîµ NEON BLUE BORDER
local stroke = Instance.new("UIStroke")
stroke.Thickness = 2
stroke.Color = Color3.fromRGB(0, 170, 255)
stroke.Parent = frame

-- üñ±Ô∏è DRAG SYSTEM
local dragging = false
local dragStart
local startPos

local function updateDrag(input)
	local delta = input.Position - dragStart
	frame.Position = UDim2.new(
		startPos.X.Scale,
		startPos.X.Offset + delta.X,
		startPos.Y.Scale,
		startPos.Y.Offset + delta.Y
	)
end

frame.InputBegan:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseButton1
	or input.UserInputType == Enum.UserInputType.Touch then
		dragging = true
		dragStart = input.Position
		startPos = frame.Position

		input.Changed:Connect(function()
			if input.UserInputState == Enum.UserInputState.End then
				dragging = false
			end
		end)
	end
end)

frame.InputChanged:Connect(function(input)
	if input.UserInputType == Enum.UserInputType.MouseMovement
	or input.UserInputType == Enum.UserInputType.Touch then
		if dragging then
			updateDrag(input)
		end
	end
end)

-- Title
local title = Instance.new("TextLabel")
title.Size = UDim2.new(1, -20, 0, 35)
title.Position = UDim2.new(0, 10, 0, 8)
title.BackgroundTransparency = 1
title.Text = "LAGGER SCRIPT"
title.Font = Enum.Font.GothamBlack
title.TextSize = 18
title.TextColor3 = Color3.new(1,1,1)
title.Parent = frame

-- Button
local lagBtn = Instance.new("TextButton")
lagBtn.Size = UDim2.new(1, -40, 0, 45)
lagBtn.Position = UDim2.new(0, 20, 0, 60)
lagBtn.Text = "LAGGER: OFF"
lagBtn.Font = Enum.Font.GothamBold
lagBtn.TextSize = 16
lagBtn.TextColor3 = Color3.new(1,1,1)
lagBtn.BackgroundColor3 = Color3.fromRGB(80,80,80)
lagBtn.BorderSizePixel = 0
lagBtn.Parent = frame

Instance.new("UICorner", lagBtn).CornerRadius = UDim.new(0,10)

-- Footer
local footer = Instance.new("TextLabel")
footer.Size = UDim2.new(1, -20, 0, 20)
footer.Position = UDim2.new(0, 10, 1, -25)
footer.BackgroundTransparency = 1
footer.Text = "ANTI CHEAT ACTIVATED"
footer.Font = Enum.Font.GothamMedium
footer.TextSize = 12
footer.TextColor3 = Color3.fromRGB(120,120,120)
footer.Parent = frame

-- Notification
local notif = Instance.new("TextLabel")
notif.Size = UDim2.fromOffset(320, 45)
notif.Position = UDim2.new(1, 20, 1, -70)
notif.BackgroundColor3 = Color3.fromRGB(20,20,20)
notif.TextColor3 = Color3.new(1,1,1)
notif.Font = Enum.Font.GothamBold
notif.TextSize = 14
notif.Visible = false
notif.Parent = gui

Instance.new("UICorner", notif).CornerRadius = UDim.new(0,10)

-- üîî Notification (2 sec)
local function showNotification(text)
	notif.Text = text
	notif.Visible = true
	notif.Position = UDim2.new(1, 20, 1, -70)

	TweenService:Create(
		notif,
		TweenInfo.new(0.3),
		{Position = UDim2.new(1, -340, 1, -70)}
	):Play()

	task.delay(2, function()
		local out = TweenService:Create(
			notif,
			TweenInfo.new(0.3),
			{Position = UDim2.new(1, 20, 1, -70)}
		)
		out:Play()
		out.Completed:Wait()
		notif.Visible = false
	end)
end

-- Fake lag
local function startLag()
	lagConnection = RunService.RenderStepped:Connect(function()
		task.wait(0.15)
	end)
end

local function stopLag()
	if lagConnection then
		lagConnection:Disconnect()
		lagConnection = nil
	end
end

-- Button logic
lagBtn.MouseButton1Click:Connect(function()
	lagEnabled = not lagEnabled

	if lagEnabled then
		lagBtn.Text = "LAGGER: ON"
		lagBtn.BackgroundColor3 = Color3.fromRGB(200,60,60)
		startLag()
		showNotification("LAGGER ACTIVATED! KILL EM üòà")
	else
		lagBtn.Text = "LAGGER: OFF"
		lagBtn.BackgroundColor3 = Color3.fromRGB(80,80,80)
		stopLag()
		showNotification("LAGGER DEACTIVATED!!!")
	end
end)
